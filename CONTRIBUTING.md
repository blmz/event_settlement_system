# è´¡çŒ®æŒ‡å—

æ„Ÿè°¢ä½ è€ƒè™‘ä¸ºäº‹ä»¶ç»“ç®—ç³»ç»Ÿåšå‡ºè´¡çŒ®ï¼æœ¬æ–‡æ¡£æä¾›äº†è´¡çŒ®çš„æŒ‡å—å’Œæœ€ä½³å®è·µã€‚

## ğŸ“‹ ç›®å½•

- [è¡Œä¸ºå‡†åˆ™](#è¡Œä¸ºå‡†åˆ™)
- [å¦‚ä½•è´¡çŒ®](#å¦‚ä½•è´¡çŒ®)
- [å¼€å‘æµç¨‹](#å¼€å‘æµç¨‹)
- [ä»£ç è§„èŒƒ](#ä»£ç è§„èŒƒ)
- [æäº¤è§„èŒƒ](#æäº¤è§„èŒƒ)
- [æµ‹è¯•æŒ‡å—](#æµ‹è¯•æŒ‡å—)

---

## è¡Œä¸ºå‡†åˆ™

### æˆ‘ä»¬çš„æ‰¿è¯º

ä¸ºäº†è¥é€ ä¸€ä¸ªå¼€æ”¾å’Œå‹å¥½çš„ç¯å¢ƒï¼Œæˆ‘ä»¬æ‰¿è¯ºï¼š
- å°Šé‡ä¸åŒçš„è§‚ç‚¹å’Œç»éªŒ
- ä¼˜é›…åœ°æ¥å—å»ºè®¾æ€§æ‰¹è¯„
- ä¸“æ³¨äºå¯¹ç¤¾åŒºæœ€æœ‰åˆ©çš„äº‹æƒ…
- å¯¹å…¶ä»–ç¤¾åŒºæˆå‘˜è¡¨ç¤ºåŒç†å¿ƒ

### ä¸å¯æ¥å—çš„è¡Œä¸º

- ä½¿ç”¨æ€§åŒ–çš„è¯­è¨€æˆ–å›¾åƒ
- äººèº«æ”»å‡»æˆ–ä¾®è¾±æ€§è¯„è®º
- éªšæ‰°è¡Œä¸ºï¼ˆå…¬å¼€æˆ–ç§ä¸‹ï¼‰
- æœªç»è®¸å¯å‘å¸ƒä»–äººçš„ç§äººä¿¡æ¯

---

## å¦‚ä½•è´¡çŒ®

### æŠ¥å‘Š Bug

åœ¨æäº¤ Bug å‰ï¼Œè¯·ï¼š
1. æ£€æŸ¥æ˜¯å¦å·²æœ‰ç›¸åŒçš„ Issue
2. ç¡®è®¤é—®é¢˜å¯é‡ç°
3. æ”¶é›†ç›¸å…³ä¿¡æ¯

**Bug æŠ¥å‘Šåº”åŒ…å«**ï¼š
```markdown
**æè¿°**
æ¸…æ™°æè¿° Bug

**å¤ç°æ­¥éª¤**
1. æ‰“å¼€ '...'
2. ç‚¹å‡» '...'
3. çœ‹åˆ°é”™è¯¯

**æœŸæœ›è¡Œä¸º**
åº”è¯¥å‘ç”Ÿä»€ä¹ˆ

**æˆªå›¾**
å¦‚æœé€‚ç”¨ï¼Œæ·»åŠ æˆªå›¾

**ç¯å¢ƒ**
- Godot ç‰ˆæœ¬: [å¦‚ 4.6]
- æ’ä»¶ç‰ˆæœ¬: [å¦‚ 1.0.0]
- æ“ä½œç³»ç»Ÿ: [å¦‚ Windows 11]
```

### å»ºè®®æ–°åŠŸèƒ½

åŠŸèƒ½è¯·æ±‚åº”åŒ…å«ï¼š
- **åŠŸèƒ½æè¿°**ï¼šæ¸…æ™°æè¿°æ–°åŠŸèƒ½
- **ä½¿ç”¨åœºæ™¯**ï¼šä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªåŠŸèƒ½
- **æ›¿ä»£æ–¹æ¡ˆ**ï¼šè€ƒè™‘è¿‡çš„å…¶ä»–æ–¹æ³•
- **ä»£ç ç¤ºä¾‹**ï¼šæœŸæœ›çš„ä½¿ç”¨æ–¹å¼

### æäº¤ Pull Request

1. **Fork ä»“åº“**
   ```bash
   git clone https://github.com/yourusername/event_settlement_system.git
   ```

2. **åˆ›å»ºåˆ†æ”¯**
   ```bash
   git checkout -b feature/AmazingFeature
   ```

3. **è¿›è¡Œæ›´æ”¹**
   - éµå¾ªä»£ç è§„èŒƒ
   - æ·»åŠ å¿…è¦çš„æ³¨é‡Š
   - æ›´æ–°ç›¸å…³æ–‡æ¡£

4. **æäº¤æ›´æ”¹**
   ```bash
   git commit -m "feat: æ·»åŠ æŸæŸåŠŸèƒ½"
   ```

5. **æ¨é€åˆ°åˆ†æ”¯**
   ```bash
   git push origin feature/AmazingFeature
   ```

6. **å¼€å¯ Pull Request**

---

## å¼€å‘æµç¨‹

### ç¯å¢ƒè®¾ç½®

1. å®‰è£… Godot 4.6+
2. Clone ä»“åº“
3. åœ¨ Godot ä¸­æ‰“å¼€é¡¹ç›®
4. å¯ç”¨æ’ä»¶

### é¡¹ç›®ç»“æ„

```
addons/event_settlement_system/
â”œâ”€â”€ core/           # æ ¸å¿ƒç³»ç»Ÿï¼ˆä¸è½»æ˜“ä¿®æ”¹ï¼‰
â”œâ”€â”€ utils/          # å·¥å…·ç±»ï¼ˆå¯æ‰©å±•ï¼‰
â””â”€â”€ plugin.gd       # æ’ä»¶å…¥å£
```

### åˆ†æ”¯ç­–ç•¥

- `main` - ç¨³å®šç‰ˆæœ¬
- `develop` - å¼€å‘ç‰ˆæœ¬
- `feature/*` - æ–°åŠŸèƒ½
- `bugfix/*` - Bug ä¿®å¤
- `hotfix/*` - ç´§æ€¥ä¿®å¤

---

## ä»£ç è§„èŒƒ

### GDScript é£æ ¼

éµå¾ª [Godot GDScript é£æ ¼æŒ‡å—](https://docs.godotengine.org/en/stable/tutorials/scripting/gdscript/gdscript_styleguide.html)

**å‘½åè§„èŒƒ**ï¼š
```gdscript
# ç±»åï¼šPascalCase
class_name EventModifier

# å¸¸é‡ï¼šSCREAMING_SNAKE_CASE
const MAX_PRIORITY = 1000

# å˜é‡å’Œå‡½æ•°ï¼šsnake_case
var modifier_name: String
func apply_modifier() -> void:
    pass

# ç§æœ‰æˆå‘˜ï¼š_ä¸‹åˆ’çº¿å‰ç¼€
var _internal_value: int
func _private_method() -> void:
    pass
```

**ç±»å‹æç¤º**ï¼š
```gdscript
# æ¨èå†™æ³•
var damage: float = 100.0
func calculate(value: float) -> float:
    return value * 2.0

# é¿å…çš„å†™æ³•
var damage = 100.0
func calculate(value):
    return value * 2.0
```

**æ³¨é‡Šè§„èŒƒ**ï¼š
```gdscript
## ç±»æ–‡æ¡£æ³¨é‡Šï¼ˆåŒ ##ï¼‰
## æè¿°ç±»çš„ç”¨é€”å’ŒåŠŸèƒ½
class_name MyClass

## å…¬å…±å‡½æ•°æ–‡æ¡£
## @param value: è¾“å…¥å€¼
## @return: è®¡ç®—ç»“æœ
func public_function(value: float) -> float:
    # å†…éƒ¨æ³¨é‡Šï¼ˆå• #ï¼‰
    var result = value * 2.0
    return result
```

### ä»£ç ç»„ç»‡

```gdscript
# 1. @tool æŒ‡ä»¤
@tool

# 2. extends
extends Node

# 3. class_name
class_name MyClass

# 4. ä¿¡å·
signal my_signal(value: int)

# 5. æšä¸¾
enum MyEnum { VALUE_A, VALUE_B }

# 6. å¸¸é‡
const MY_CONSTANT = 100

# 7. å¯¼å‡ºå˜é‡
@export var my_export: int = 0

# 8. å…¬å…±å˜é‡
var public_var: String = ""

# 9. ç§æœ‰å˜é‡
var _private_var: int = 0

# 10. å†…ç½®å›è°ƒå‡½æ•°
func _ready():
    pass

# 11. å…¬å…±æ–¹æ³•
func public_method():
    pass

# 12. ç§æœ‰æ–¹æ³•
func _private_method():
    pass

# 13. å†…éƒ¨ç±»
class InnerClass:
    pass
```

---

## æäº¤è§„èŒƒ

ä½¿ç”¨ [çº¦å®šå¼æäº¤](https://www.conventionalcommits.org/zh-hans/)

### æäº¤æ ¼å¼

```
<ç±»å‹>(<èŒƒå›´>): <æè¿°>

[å¯é€‰çš„æ­£æ–‡]

[å¯é€‰çš„è„šæ³¨]
```

### æäº¤ç±»å‹

- `feat`: æ–°åŠŸèƒ½
- `fix`: Bug ä¿®å¤
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œï¼‰
- `refactor`: é‡æ„
- `perf`: æ€§èƒ½ä¼˜åŒ–
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

### ç¤ºä¾‹

```bash
feat(modifier): æ·»åŠ ä¹˜æ³•ä¿®æ”¹å™¨æ”¯æŒ

æ·»åŠ äº† create_multiply_modifier é™æ€æ–¹æ³•
æ”¯æŒé“¾å¼è°ƒç”¨è®¾ç½®æ¡ä»¶

Closes #123
```

---

## æµ‹è¯•æŒ‡å—

### æ‰‹åŠ¨æµ‹è¯•

1. æ‰“å¼€ç¤ºä¾‹åœºæ™¯ `examples/example_usage.tscn`
2. è¿è¡Œåœºæ™¯
3. æµ‹è¯•å„é¡¹åŠŸèƒ½
4. æ£€æŸ¥æ§åˆ¶å°è¾“å‡º

### æµ‹è¯•æ¸…å•

- [ ] åŸºæœ¬äº‹ä»¶åˆ›å»ºå’Œå¤„ç†
- [ ] ä¿®æ”¹å™¨æ·»åŠ å’Œç§»é™¤
- [ ] ä¼˜å…ˆçº§æ’åº
- [ ] æ¡ä»¶åˆ¤æ–­
- [ ] ä¿¡å·è§¦å‘
- [ ] è¾¹ç•Œæƒ…å†µå¤„ç†

### æ€§èƒ½æµ‹è¯•

```gdscript
func test_performance():
    var start_time = Time.get_ticks_msec()
    
    # æµ‹è¯•ä»£ç 
    for i in range(10000):
        var event = EventData.new("test", null, null, 100.0)
        EventSettlementManager.process_event(event)
    
    var elapsed = Time.get_ticks_msec() - start_time
    print("æ‰§è¡Œæ—¶é—´: ", elapsed, "ms")
```

---

## æ–‡æ¡£è§„èŒƒ

### æ–‡æ¡£ç±»å‹

1. **ä»£ç å†…æ–‡æ¡£**ï¼šä½¿ç”¨ `##` æ³¨é‡Š
2. **ä½¿ç”¨æ–‡æ¡£**ï¼šMarkdown æ ¼å¼
3. **API å‚è€ƒ**ï¼šè¡¨æ ¼å½¢å¼

### æ–‡æ¡£è¦æ±‚

- æ¸…æ™°çš„æ ‡é¢˜ç»“æ„
- å®Œæ•´çš„ä»£ç ç¤ºä¾‹
- å¿…è¦çš„æˆªå›¾è¯´æ˜
- é“¾æ¥åˆ°ç›¸å…³æ–‡æ¡£

---

## å‘å¸ƒæµç¨‹

1. æ›´æ–°ç‰ˆæœ¬å·
2. æ›´æ–° CHANGELOG.md
3. åˆ›å»º Git tag
4. å‘å¸ƒ Release
5. æ›´æ–° Asset Libraryï¼ˆå¦‚é€‚ç”¨ï¼‰

---

## è·å–å¸®åŠ©

- é˜…è¯» [ä½¿ç”¨æ–‡æ¡£](docs/ä½¿ç”¨æ–‡æ¡£.md)
- åŠ å…¥ [Discussions](https://github.com/yourusername/event_settlement_system/discussions)
- æäº¤ [Issue](https://github.com/yourusername/event_settlement_system/issues)

---

## è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…ï¼ä½ çš„å·¥ä½œè®©è¿™ä¸ªé¡¹ç›®å˜å¾—æ›´å¥½ã€‚

---

**æœ€åæ›´æ–°**: 2026-02-18
